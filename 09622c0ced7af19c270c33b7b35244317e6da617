{
  "comments": [
    {
      "key": {
        "uuid": "fbb3abd1_79286497",
        "filename": "src/builtins/array-unshift.tq",
        "patchSetId": 7
      },
      "lineNbr": 15,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-08-29T08:24:03Z",
      "side": 1,
      "message": "Do we have COW arrays covered here? Is there a test case for this? Let\u0027s DCHECK all these conditions in the runtime function.",
      "revId": "09622c0ced7af19c270c33b7b35244317e6da617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c01d2054_cb07b1eb",
        "filename": "src/builtins/array-unshift.tq",
        "patchSetId": 7
      },
      "lineNbr": 23,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-08-29T08:24:03Z",
      "side": 1,
      "message": "Out of curiosity - do you have any data on how slow the generic path is compared to the fast path?",
      "revId": "09622c0ced7af19c270c33b7b35244317e6da617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f908f1bd_56650ec7",
        "filename": "src/builtins/array-unshift.tq",
        "patchSetId": 7
      },
      "lineNbr": 54,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-08-29T08:24:03Z",
      "side": 1,
      "message": "Nit: This CL is still in C naming style, we should switch to JS-style at some point. Up to you whether to do it here or in a follow-up.",
      "revId": "09622c0ced7af19c270c33b7b35244317e6da617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce0e0754_79a28bbc",
        "filename": "src/builtins/array-unshift.tq",
        "patchSetId": 7
      },
      "lineNbr": 80,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-08-29T08:24:03Z",
      "side": 1,
      "message": "Nit: Just make j an intptr and compare against arguments.length in the condition above.",
      "revId": "09622c0ced7af19c270c33b7b35244317e6da617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5edf0e0e_aa0e23f7",
        "filename": "src/builtins/array-unshift.tq",
        "patchSetId": 7
      },
      "lineNbr": 89,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-08-29T08:24:03Z",
      "side": 1,
      "message": "Could you use the factory()-\u003elength_string() instead to avoid creating a new string here? would a .length\u003d operator make sense on JSReceiver?",
      "revId": "09622c0ced7af19c270c33b7b35244317e6da617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc6b4db5_53c9b369",
        "filename": "src/builtins/base.tq",
        "patchSetId": 7
      },
      "lineNbr": 39,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-08-29T08:24:03Z",
      "side": 1,
      "message": "Hmm I like how this makes fast-array checks look more natural. But it also implies safety that\u0027s not there; a FastJSArray can turn slow without this type noticing in various ways (e.g.: implicit or explicit calls into user-JS, modifications to the prototype, elements kind transitions). \n\nSo the \u0027FastJSArray\u0027 type really does say anything about whether the array is currently fast, only that it was fast at assignment. I don\u0027t know whether that might not lead to more confusion.\n\nAnd a drive-by comment here: TaggedToFastArray should really use BranchIfFastJSArray, not the inefficient IsFastJSArray wrapper. It also seems like dead code if it\u0027s not used by this CL.",
      "revId": "09622c0ced7af19c270c33b7b35244317e6da617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ce7121d_cf5957a5",
        "filename": "src/builtins/builtins-array.cc",
        "patchSetId": 7
      },
      "lineNbr": 83,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-08-29T08:24:03Z",
      "side": 1,
      "message": "Nit: No parentheses needed :) And let\u0027s spell out \u0027elements kinds\u0027",
      "revId": "09622c0ced7af19c270c33b7b35244317e6da617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44ceb0ee_2b472541",
        "filename": "src/builtins/builtins-array.cc",
        "patchSetId": 7
      },
      "lineNbr": 104,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-08-29T08:24:03Z",
      "side": 1,
      "message": "It looks like this method assumes PACKED {smi,double,object} elements, since we transition to PACKED_DOUBLE_ELEMENTS/PACKED_ELEMENTS. Is that the case? Or do we also transition HOLEY -\u003e PACKED?",
      "revId": "09622c0ced7af19c270c33b7b35244317e6da617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "19457345_555bc1d8",
        "filename": "src/builtins/builtins-array.cc",
        "patchSetId": 7
      },
      "lineNbr": 529,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-08-29T08:24:03Z",
      "side": 1,
      "message": "Are the remaining checks in EnsureJSArrayWithWritableFastElements not needed here? For instance:\n\n - Dictionary elements\n - is_extensible\n - IsJSArrayFastElementMovingAllowed\n - IsAnyInitialArrayPrototype\n\nWhy not?",
      "revId": "09622c0ced7af19c270c33b7b35244317e6da617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f32ad49_62288e28",
        "filename": "test/mozilla/mozilla.status",
        "patchSetId": 7
      },
      "lineNbr": 162,
      "author": {
        "id": 1162439
      },
      "writtenOn": "2018-08-29T08:24:03Z",
      "side": 1,
      "message": "Please link this to a crbug.",
      "revId": "09622c0ced7af19c270c33b7b35244317e6da617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}