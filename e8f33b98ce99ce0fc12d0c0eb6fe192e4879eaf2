{
  "comments": [
    {
      "key": {
        "uuid": "07ec4964_df243eca",
        "filename": "src/builtins/builtins-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 380,
      "author": {
        "id": 1158954
      },
      "writtenOn": "2018-04-19T19:24:05Z",
      "side": 1,
      "message": "Can this be renamed to `tag` to match the spec?",
      "range": {
        "startLine": 380,
        "startChar": 19,
        "endLine": 380,
        "endChar": 25
      },
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ac32ae76_dda552f5",
        "filename": "src/builtins/builtins-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 380,
      "author": {
        "id": 1115880
      },
      "writtenOn": "2018-04-19T21:59:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "07ec4964_df243eca",
      "range": {
        "startLine": 380,
        "startChar": 19,
        "endLine": 380,
        "endChar": 25
      },
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b20fd6a0_127fa5e4",
        "filename": "src/builtins/builtins-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 384,
      "author": {
        "id": 1158954
      },
      "writtenOn": "2018-04-19T19:24:05Z",
      "side": 1,
      "message": "The spec says `If Type(tag) is not String or Object, throw a TypeError exception.`, the check for this should be `!locale-\u003eIsName() || locale-\u003eIsJSReceiver()`",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e05ea11_4ae88e43",
        "filename": "src/builtins/builtins-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 384,
      "author": {
        "id": 1115880
      },
      "writtenOn": "2018-04-19T21:59:45Z",
      "side": 1,
      "message": "Done - but I couldn\u0027t find any docs on what exactly IsName, IsJSReceiver checks do. Do you have any pointers?",
      "parentUuid": "b20fd6a0_127fa5e4",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8606f9f0_402fe273",
        "filename": "src/builtins/builtins-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 390,
      "author": {
        "id": 1158954
      },
      "writtenOn": "2018-04-19T19:24:05Z",
      "side": 1,
      "message": "The spec says we should check for an InitializedLocale internal slot before doing a ToString. Is this check not required?",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c77c5c04_f6a9feda",
        "filename": "src/builtins/builtins-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 390,
      "author": {
        "id": 1115880
      },
      "writtenOn": "2018-04-19T21:59:45Z",
      "side": 1,
      "message": "I think that part of the spec refers to toString method. We are in the process of initializing the Locale here.\n\nI am just converting input parameter to String, so I can parse it later on, and initialize the locale object.\n\nAm I missing something?",
      "parentUuid": "8606f9f0_402fe273",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af896fbe_b67c0e27",
        "filename": "src/builtins/builtins-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 390,
      "author": {
        "id": 1158954
      },
      "writtenOn": "2018-04-20T19:20:47Z",
      "side": 1,
      "message": "You\u0027ll have to store the locale in the kLocale slot, that\u0027s been reserved and then look that up here. In this example:\n\n  const tag \u003d new Intl.Locale(\u0027sr\u0027);\n  tag.toString \u003d function() { console.log(\"called\"); }\n  new Intl.Locale(tag);\n\nshould reuse the locale from the `tag` directly, and not call the `toString` method.",
      "parentUuid": "c77c5c04_f6a9feda",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb00fbc2_8bcc8a35",
        "filename": "src/builtins/builtins-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 394,
      "author": {
        "id": 1158954
      },
      "writtenOn": "2018-04-19T19:24:05Z",
      "side": 1,
      "message": "This should be a null check as well right? I think it\u0027s a spec bug",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "815c155f_fc652f2a",
        "filename": "src/builtins/builtins-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 394,
      "author": {
        "id": 1115880
      },
      "writtenOn": "2018-04-19T21:59:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eb00fbc2_8bcc8a35",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59d4777b_f1a23295",
        "filename": "src/builtins/builtins-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 397,
      "author": {
        "id": 1158954
      },
      "writtenOn": "2018-04-19T19:24:05Z",
      "side": 1,
      "message": "factory()-\u003eNewJSObjectWithNullProto(), according to the spec",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a8ef79df_5c238ef9",
        "filename": "src/builtins/builtins-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 397,
      "author": {
        "id": 1115880
      },
      "writtenOn": "2018-04-19T21:59:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "59d4777b_f1a23295",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b7748195_2752702e",
        "filename": "src/builtins/builtins-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 398,
      "author": {
        "id": 1158954
      },
      "writtenOn": "2018-04-19T19:24:05Z",
      "side": 1,
      "message": "The spec says we should do a `Object::ToObject` conversation here instead of an explicit check for JSObject",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b4fa3b0_3ffbe423",
        "filename": "src/builtins/builtins-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 398,
      "author": {
        "id": 1115880
      },
      "writtenOn": "2018-04-19T21:59:45Z",
      "side": 1,
      "message": "Could you spell out actual incantation - Object::ToObject returns JSReceiver not JSObject that I need?\n\nIf I just cast:\noptions_object \u003d Handle\u003cJSObject\u003e::cast(options);\n\nlater in the code, this fails (SIG 11):\n Handle\u003cObject\u003e object \u003d\n      JSReceiver::GetProperty(options_object, str).ToHandleChecked();\n\nfor new Intl.Locale(\u0027sr\u0027, 5) invocation.",
      "parentUuid": "b7748195_2752702e",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e864e4be_ee7501d5",
        "filename": "src/builtins/builtins-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 398,
      "author": {
        "id": 1158954
      },
      "writtenOn": "2018-04-20T19:20:47Z",
      "side": 1,
      "message": "Yeah, you can\u0027t cast `options` to JSObject. `options` can be a proxy too (which is a JSProxy in V8), so we represent `options` as a superset of JSObject and JSProxy as JSReceiver. You\u0027ll have to work with JSReceiver type for `options` in `Locale::InitializeLocale`.",
      "parentUuid": "6b4fa3b0_3ffbe423",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "91271d35_9d6b90e4",
        "filename": "src/builtins/builtins-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 405,
      "author": {
        "id": 1158954
      },
      "writtenOn": "2018-04-19T19:24:05Z",
      "side": 1,
      "message": "This needs to happen before all the argument handling as per the spec. It\u0027s observable to userland javascript that we create this object after the argument handling.",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a04fcb1_18f2c9b0",
        "filename": "src/builtins/builtins-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 405,
      "author": {
        "id": 1115880
      },
      "writtenOn": "2018-04-19T21:59:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "91271d35_9d6b90e4",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "27ba4f87_30c99b3d",
        "filename": "src/objects/intl-objects.cc",
        "patchSetId": 5
      },
      "lineNbr": 822,
      "author": {
        "id": 1151758
      },
      "writtenOn": "2018-04-19T18:07:44Z",
      "side": 1,
      "message": "You don\u0027t need map here, do you?  Just a struct with two fields of \u0027char*\u0027 would do for this function. You can also avoid \u0027c_str()\u0027 that way (well, it does not matter, but nonetheless. BTW, you can just use data(), too). \n\nFor PopulateLocaleWithUnicodeTags, map is a bit more convenient than an array of struct, but not much.  If you use an array of struct, you can share it between two functions by making it static.",
      "range": {
        "startLine": 819,
        "startChar": 2,
        "endLine": 822,
        "endChar": 53
      },
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e1b12f2_71dce77a",
        "filename": "src/objects/intl-objects.cc",
        "patchSetId": 5
      },
      "lineNbr": 822,
      "author": {
        "id": 1115880
      },
      "writtenOn": "2018-04-19T23:57:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "27ba4f87_30c99b3d",
      "range": {
        "startLine": 819,
        "startChar": 2,
        "endLine": 822,
        "endChar": 53
      },
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c73c2330_a5fbf15e",
        "filename": "src/objects/intl-objects.cc",
        "patchSetId": 5
      },
      "lineNbr": 833,
      "author": {
        "id": 1151758
      },
      "writtenOn": "2018-04-19T20:16:44Z",
      "side": 1,
      "message": "It\u0027s not a good idea to depend on the behvior of the default \u0027legacy code page\u0027. Chrome/v8\u0027s copy of ICU is built with the default code page set to UTF-8, but v8 built elsewhere relies on the system ICU which does not have the default code page set to UTF-8. Nonetheless, the ASCII-range characters (likely in all cases) would be preserved.\n\nStill, I don\u0027t like to depend on that assumption. Either use this overload\n(http://icu-project.org/apiref/icu4c/classicu_1_1UnicodeString.html#a54597d41f79f762d95114dcda2010914 )\nor use ByteSink as I mentioned in my comment to the first CL.",
      "range": {
        "startLine": 833,
        "startChar": 18,
        "endLine": 833,
        "endChar": 79
      },
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8425d5f_e5523194",
        "filename": "src/objects/intl-objects.cc",
        "patchSetId": 5
      },
      "lineNbr": 833,
      "author": {
        "id": 1115880
      },
      "writtenOn": "2018-04-19T23:57:33Z",
      "side": 1,
      "message": "Made an explicit converter to utf8.",
      "parentUuid": "c73c2330_a5fbf15e",
      "range": {
        "startLine": 833,
        "startChar": 18,
        "endLine": 833,
        "endChar": 79
      },
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2c133cb0_4f41b4d0",
        "filename": "src/objects/intl-objects.cc",
        "patchSetId": 5
      },
      "lineNbr": 1032,
      "author": {
        "id": 1151758
      },
      "writtenOn": "2018-04-19T20:16:44Z",
      "side": 1,
      "message": "4th parameter is not for the length of the icu_result. It\u0027s the length of the parsed input (bcp47_locale). See http://icu-project.org/apiref/icu4c/uloc_8h.html#aa45d6457f72867880f079e27a63c6fcb .\n\nThe above should be:\n\nicu_length \u003d uloc_forLanguage(*bcp47_locale, icu_results, ULCO_..., nullptr, \u0026status);",
      "range": {
        "startLine": 1031,
        "startChar": 2,
        "endLine": 1032,
        "endChar": 44
      },
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d52376c0_9ca467f4",
        "filename": "src/objects/intl-objects.cc",
        "patchSetId": 5
      },
      "lineNbr": 1032,
      "author": {
        "id": 1115880
      },
      "writtenOn": "2018-04-19T21:59:45Z",
      "side": 1,
      "message": "This is very very bad API - who needs parsed length of input?!",
      "parentUuid": "2c133cb0_4f41b4d0",
      "range": {
        "startLine": 1031,
        "startChar": 2,
        "endLine": 1032,
        "endChar": 44
      },
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c7f6dd8_e5d9b95b",
        "filename": "src/objects/intl-objects.cc",
        "patchSetId": 5
      },
      "lineNbr": 1032,
      "author": {
        "id": 1151758
      },
      "writtenOn": "2018-04-20T00:19:21Z",
      "side": 1,
      "message": ":-)  Don\u0027t complain to me.  :-)",
      "parentUuid": "d52376c0_9ca467f4",
      "range": {
        "startLine": 1031,
        "startChar": 2,
        "endLine": 1032,
        "endChar": 44
      },
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2f6505fd_2acb523a",
        "filename": "src/runtime/runtime-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 491,
      "author": {
        "id": 1158954
      },
      "writtenOn": "2018-04-19T19:24:05Z",
      "side": 1,
      "message": "I don\u0027t see this being used in this CL. Can this be removed?",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6eac15c_f17b3036",
        "filename": "src/runtime/runtime-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 491,
      "author": {
        "id": 1151758
      },
      "writtenOn": "2018-04-19T20:16:44Z",
      "side": 1,
      "message": "I guess it\u0027s a left-over from the first version that used JS.",
      "parentUuid": "2f6505fd_2acb523a",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "80492521_e164d62d",
        "filename": "src/runtime/runtime-intl.cc",
        "patchSetId": 5
      },
      "lineNbr": 491,
      "author": {
        "id": 1115880
      },
      "writtenOn": "2018-04-19T21:59:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e6eac15c_f17b3036",
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7c8aeadd_90214670",
        "filename": "test/intl/locale/locale-canonicalization.js",
        "patchSetId": 5
      },
      "lineNbr": 30,
      "author": {
        "id": 1151758
      },
      "writtenOn": "2018-04-19T18:07:44Z",
      "side": 1,
      "message": "You don\u0027t need this lengthy pre-amble any more.\n\nSee date-format-to-parts.js for a shorter \"modern\" version.\n\nDo the same in other test files you\u0027re adding.",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 30,
        "endChar": 24
      },
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "36111a67_9a7a658d",
        "filename": "test/intl/locale/locale-canonicalization.js",
        "patchSetId": 5
      },
      "lineNbr": 30,
      "author": {
        "id": 1115880
      },
      "writtenOn": "2018-04-19T21:59:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7c8aeadd_90214670",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 30,
        "endChar": 24
      },
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "71aed999_cd9cc926",
        "filename": "test/intl/locale/locale-constructor.js",
        "patchSetId": 5
      },
      "lineNbr": 40,
      "author": {
        "id": 1151758
      },
      "writtenOn": "2018-04-19T20:16:44Z",
      "side": 1,
      "message": "Please, add a reference to \n\nhttp://bugs.icu-project.org/trac/ticket/13417 .",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 40,
        "endChar": 42
      },
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf5dcdac_0f2d69e5",
        "filename": "test/intl/locale/locale-constructor.js",
        "patchSetId": 5
      },
      "lineNbr": 40,
      "author": {
        "id": 1115880
      },
      "writtenOn": "2018-04-19T21:59:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "71aed999_cd9cc926",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 40,
        "endChar": 42
      },
      "revId": "e8f33b98ce99ce0fc12d0c0eb6fe192e4879eaf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}